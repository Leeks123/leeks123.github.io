---
title: Swift 간단 정리 2
date: 2020-08-19
tags:
  - Swift
---

### 열거형

```swift
enum 이름 {
  case 이름1
  case 이름2
  case 이름3, 이름4, 이름5
  ...
}
```

스위프트의 열거형은 각각의 케이스가 고유의 값으로 취급이 됨

타입을 명시하여 rawValue로 초기화할 수 있음

메서드도 추가 가능

상속 불가, 값 타입

### 값타입과 참조타입

- 값 타입은 데이터를 전달할 때 값을 복사하여 전달
- 참조 타입은 데이터의 주소를 전달
- 구조체는 값 타입, 클래스는 참조 타입!!
- 스위프트는 구조체와 열거형 사용을 선호한다. 그러나 애플 프레임워크는 대부분 클래스를 사용하기에 적절하게 사용하는 것이 필요

### 클로져

- 코드의 블럭. 일급 시민
- 변수, 상수 등으로 저장, 전달인자로 전달이 가능
- 함수 : 이름이 있는 클로저

```swift
{ (매개변수 목록) -> 반환타입 in
		실행코드
}
```

#### 함수의 전달인자로서 클로저

```swift
let add: (Int, Int) -> Int
add = { (a: Int, b: Int) -> Int in
      	return a+b
      }

let substract: (Int, Int) -> Int
add = { (a: Int, b: Int) -> Int in
      	return a-b
      }

func calc(a: Int, b: Int, method: (Int,Int) -> Int) -> Int {
  return method(a,b)
}

var calcualted: Int
calculated = calc(a: 50, b: 10, method: add)
print(calculated) // 60
```

- 콜백의 용도로도 많이 쓰인다고 한다. 익명함수 느낌인듯..

#### 후행 클로저

- 클로저가 함수의 마지막 전달 인자라면 마지막 매개변수 이름을 생략한 후 함수 소괄호 외부에 클로저를 구현할 수 있음

```swift
var result: Int
result = calc(a: 10, b: 10) { (left: Int, right: Int) -> Int in
	return left+right                           
}
```

#### 반환타입 생략

````swift
result = calc(a: 10, b: 10) { (left: Int, right: Int) in
	return left+right                           
}
````

- 굳이 클로저에서 반환타입을 명시해 주지 않아도 컴파일러가 알기 때문에 생략이 가능하다. `in` 은 생략 불가

#### 단축인자 이름

- 클로저의 매개변수 이름이 굳이 필요 없다면 단축 인자 이름을 활용할 수 있음
- 단축인자 이름은 매개변수 순서대로 `$0` ` $1`... 처럼 표현
- `in` 도 생략 가능

```swift
result = calc(a: 10, b: 10) { 
  return $0 + $1
}
```

#### 암시적 반환 표현

- 클로저가 반환하는 값이 있다면 마지막 줄은 암시적으로 반환값으로 취급.. `return` 도 생략 가능

```swift
result = calc(a: 10, b: 10) { $0 + $1 }
```

**축약 전**

```swift
result = calc(a: 10, b: 10, method: { (left: int, right: Int) -> Int in
	return left+right
})
```

- 적당히 커뮤니케이션이 될 정도로만 축약해서 사용하자!

### 프로퍼티 (???)

- 구조체, 클래스, 열거형 내부에 구현 가능
- 열거형 내부에는 연산 프로퍼티만..

- 저장 프로퍼티 : 일반적으로 생각하는 프로퍼티들
- 연산 프로퍼티 : getter, setter 느낌.. 
  - `get` 으로 저장프로퍼티를 연산한 값을 받음
  - `set` 으로 새롭게 연산한 값을 저장프로퍼티에 저장
- 인스턴스 프로퍼티
- 타입 프로퍼티

#### 프로퍼티 감시자

프로퍼터 값이 변경될 때 원하는 동작을 수행 할 수 있음

- `willSet` 바뀌기 직전에 실행됨
- `didSet` 바뀐 직후에 실행됨
- 연산프로퍼티와는 동시에 실행되지 않음

### 