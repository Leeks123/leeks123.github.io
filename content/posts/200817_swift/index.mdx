---
title: Swift 간단 정리
date: 2020-08-17
tags:
  - Swift
---


### 상수와 변수

- 상수선언 키워드 `let`
  - 상수선언 `let 이름: 타입 = 값`
- 변수선언 키워드 `var`
  - 변수 선언 `var 이름: 타입 = 값`

### 기본 데이터 타입

- Bool : true, false. 0,1로 대체할 수는 없다
- Int : 정수
- Uint : 양의 정수
- Float : 32비트, 부동소수형
- Double : 64비트, 부동소수형
- Character : 문자. 유니코드. 큰따옴표
- String : 문자열. 큰따옴표. 

다른 데이터 타입과 자료교환은 암시적으로 불가능

### Any, AnyObject, nil

- Any : 스위프트의 모든 타입을 지칭하는 키워드
- AnyObject : 모든 클래스 타입을 지칭하는 프로토콜
-  nil : 없음을 의미하는 키워드. Any, AnyObject에 할당불가

### 컬렉션 타입

- Array : 순서가 있는 리스트 컬렉션

```swift
var integers: Array<Int> = Array<Int>()
integers.append(1)
integers.append(2) // [1,2]

integers.contains(3) // false

integers.count // 2

integers.remove(at: 0)	// 1
integers.removeLast()		// 2
integers.removeAll()		// []

var doubles: Array<Double> = [Double]()
var strings: [String] = [String]()
var characters: [Character] = []
```

- Dictionary : 키와 값의 쌍으로 이뤄진 컬렉션

```swift
var anyDictionary: Dictionary<String, Any> = [String: Any]()
anyDictionary["someKey"] = "value"
anyDictionary["anotherKey"] = 100

anyDictionary.removeValue(forKey:"anotherKey") // 100
anyDictionary["someKey"] = nil
anyDictionary // [:]
```

- Set : 순서가 없고, 멤버가 유일한 컬렉션

```swift
var integerSet: Set<Int> = Set<Int>()
integerSet.insert(1)
integerSet.insert(1)
integerSet.insert(1)
integerSet.insert(2)
integerSet.insert(3)
integerSet	// {1,2,3}

integerSet.contain(1) // true

integerSet.count			// 3

integerSet.remove(100)
integerSet.removeFirst()


```



### 함수

#### 함수 선언

```swift
func sum(a: Int, b: Int) -> Int {
  return a+b
}

func printName(name: String) -> Void {
  print(name)
}

sum(a: 3,b:5) // 8
```

#### 기본값을 가지는 함수

기본값을 가지는 매개변수는 마지막에 둬야

```swift
func greeting(friend: String, me: String="Tom"){
  print("hello \(friend)! I'm \(me)")
}
```

#### 전달인자

- 매개변수의 역할을 좀 더 명확하게 하거나
- 사용자 입장에서 표현하고자 할 때 사용
- 오버로딩 역할 가능

```swift
func greeting(to friend: String, from me: String="Tom"){
  print("hello \(friend)! I'm \(me)")
}
```

#### 가변매개변수

```swift
func sayHelloToFriends(me: String, friends: String...) -> String {
  return "Hello \(friends)! I'm \(me)"
}

print(sayHelloToFriends(me: "Tom", friends: "Jack", "eric", "wing"))
```

스위프트는 함수형 패러다임을 포함하는 다중 패러다임 언어

스위프트의 함수는 일급객체이므로 변수, 상수 등에 저장이 가능하고 매개변수로 전달도 가능

### 조건문

#### if else

- 소괄호는 생략가능하지만 중괄호는 생략 불가
- 조건문은 항상 Bool 타입이 와야 함

```swift
if condition {
  ...
} else {
  ...
}
```

#### switch

- Default는 반드시 작성할 것
- `break` 문을 사용하지 않음. 굳이 사용하겠다면 `fallthrough`

### 반복문

```swift
var integers = [1,2,3]
let dictionary = ["a":1,"b":2,"c":3]
```

#### for ... in

```swift
for integer in integers {
  print(integer)
}

for (char,num) in dictionary {
  print("\(char): \(num)")
}
```

#### while

```swift
while integers.count > 1 {
  integers.removeLast()
}
```

#### repeat-while

```swift
repeat {
  integers.removeLast()
} while integers.count > 0
```

- do while과 같은 형태
- `do` 는 스위프트에서의 오류처리 키워드

### 옵셔널

값이 있을 수도 있고 없을 수도 있는 것.
`nil` 가능성을 문서화 하지 않아도 코드만으로 충분히 표현가능. 옵셔널이 아니라면 `nil` 체크를 안 해도 안심

옵셔널은 열거형 + 제너럴의 형태

```swift
enum Optional<Wrapped> : ExpressibleByNilLiteral {
  case none
  case some(Wrapped)
}

let optionalValue: Optional<Int> = nil
let optionalValue: Int? = nil
```



##### !

```swift
var optionaleVaue: Int! = 100

switch optionalValue { 
  case .none:
  	print("This Optional variable is nill")
  case .some(let value):
  	print("Value is \(value)")
}
```

- Inmplicitly Unwrapped Optional (암시적 추출 옵셔널) 
- 기존 변수처럼 사용 가능
- `nil` 할당 가능

##### ?

- `nil` 할당 가능
- 기존 변수처럼 사용 불가 - 옵셔널과 일반 값은 다른 타입이므로 연산 불가

#### Optional Unwrapping

##### Optional Binding

```swift
func printName(name: String) {
  print(name)
}
var myName: String! = nil

if let name: String = myName {
  printName(name)
} else {
  print("myName == nil")
}
```

`if-let` 을 이용하여 `name` 에 `myName` 을 바인딩하여 사용
`name` 은 `if-let` 구문 내에서만 사용 가능

##### Force Unwrapping

옵셔널의 값을 강제로 추출. 비추 방식

```swift
var myName2: String? = "optional"
printName(myName2!) // !를 붙어 강제 추출

myName2 = nil
print(myName!)
// 강제추출 시 값이 없으므로 런타임 오류 발생

var yourName: String! = nil
printName(yourName)
// 암시적 추출 옵셔널을 붙이면 알아서 변수뒤에 !를 붙임
// nil값이 전달되기 떄문에 런타임 오류 발생
```



### 구조체

```swift
struct Sample {
  var mutableProperty: Int = 100 // 가변 프로퍼티
  let immutableProperty: Int = 100 // 불변 프로퍼티
  
  static var typeProperty: Int = 100 // 타입 프로퍼티
  
  // 인스턴스 메서드
  func instanceMethod() {
    print("instance method")
  }
  // 타입 메서드
  static func typeMethod() {
    print("type method")
  }
}

// 가변 인스턴스, 가변프로퍼티만 변경 가능
var mutable: Sample = Sample()

// 불변 인스턴스, 어떤 프로퍼티도 변경 불가
let immutable: Sample = Sample()

Sample.typeMethod() // type method
```



### 클래스

- 구조체와 굉장히 유사하지만 구조체는 값 타입이고, 클래스는 참조 타입이다
- 다중 상속이 되지 않음

```swift
class Sample {
  var mutableProperty: Int = 100 // 가변 프로퍼티
  let immutableProperty: Int = 100 // 불변 프로퍼티
  
  static var typeProperty: Int = 100 // 타입 프로퍼티
  
  // 인스턴스 메서드
  func instanceMethod() {
    print("instance method")
  }
  // 타입 메서드
  // 재정의 불가 타입 메서드 - static
  static func typeMethod() {
    print("type method -static")
  }
  // 재정의 가능 타입 메서드 - class
  class func classMethod() {
    print("type method -class")
  }
}
```

불변 인스턴스로 생성을 해도 가변프로퍼티 변경 가능